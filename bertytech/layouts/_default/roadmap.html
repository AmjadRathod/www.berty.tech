{{.Scratch.Set "body-class" "page-single wh roadmap-page"}}
{{ partial "head" . }}

{{ $hero_card_colors := slice "#486aea" "#ffbf47" "#f54967" "#51cfa4"}}
{{ $active_index := 5 }}

<header class="header-rounded large {{ if .Params.Hclass }}{{.Params.Hclass}}{{ else }}bg-blue gradient{{ end }}" {{ with .Params.image_bg }}style="background-image:url('{{ ($.Page.Resources.GetMatch .).RelPermalink }}')"{{end}}>

</header>

<div class="content">
  <div class="container">
    <section class="section-blocks-3">
      <div class="row">

        <!-- Hero cards -->
        {{ range $i, $el := .Params.hero_cards }}
        <div class="col-lg-3">
          <div class="block block-wi" style="background: {{ index $hero_card_colors $i }}; border-radius: 0;">
            <h1 style="color: #fff; text-align: left; font-weight: bold;">{{$el | safeHTML }}</h1>
          </div>
        </div>
        {{ end }}

      </div>
    </section>

    <!-- Vision -->
    <section id="vision">
      <div class="row justify-content-center mb-5">
        <div class="col-lg-12 text-center">
          <h3>{{ upper .Params.vision_title }}</h3>
        </div>
      </div>
      <div class="row justify-content-between align-items-center">
        <div class="col-lg-3">
          <div>
            <img src="1_berty_rocket.svg" class="img-fluid" />
          </div>
        </div>
        <div class="col-lg-6 text-justify">
          {{ .Params.vision_body | markdownify }}
          <div class="d-flex justify-content-end">
            <div class="text-center text-small">
              <span style="color: #4AD5F6">Berty Core Crew</span><br/>
              Paris, France
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Previous phases -->
    <section id="previous-phases">
      <div class="row justify-content-center mb-5">
        <div class="col-lg-12 text-center">
          <h3>{{ upper .Params.previous_phases_title }}</h3>
        </div>
      </div>
      <div class="row justify-content-between">
        {{ range $i, $el := .Params.previous_phases_items }}
        <div class="col-lg-3">
          <div class="block block-wi text-center bg-white {{ if le $i $active_index }}active{{end}}">
            <div style="position: absolute; left: 5px; top: 5px;">{{ ($.Resources.GetMatch "check-green.svg").Content | safeHTML }}</div>
            <div>
              {{ ($.Resources.GetMatch .icon).Content | safeHTML }}
            </div>
            <p>{{.title}}</p>
            <p>{{.subtitle}}</p>
          </div>
        </div>
       {{ end }}
      </div>
    </section>

    <!-- Upcoming phases -->
    <section id="upcoming-phases">
      <div class="row justify-content-center mb-5">
        <div class="col-lg-12 text-center">
          <h3>{{ upper .Params.upcoming_phases_title }}</h3>
        </div>
      </div>
      <div class="row justify-content-between">
        {{ range $i, $el := .Params.upcoming_phases_items }}
        <div class="col-lg-3">
          <div class="block block-wi text-center bg-white {{ if le (add $i 4) $active_index }}active{{end}}">
            <div style="position: absolute; left: 5px; top: 5px;">{{ ($.Resources.GetMatch "check-green.svg").Content | safeHTML }}</div>
            <div>
              {{ ($.Resources.GetMatch .icon).Content | safeHTML }}
            </div>
            <p>{{.title}}</p>
            <p>{{.subtitle}}</p>
          </div>
        </div>
       {{ end }}
      </div>
    </section>

    <!-- Previous phases -->
    <section id="roadmap">
      <div class="row justify-content-center mb-5">
        <div class="col-lg-12 text-center">
          <h3>{{ upper .Params.roadmap_title }}</h3>
        </div>
      </div>
      <div class="row justify-content-between">
        <div class="col-lg-6">
          <div class="block block-wi bg-white" style="padding-left: 60px; padding-right: 60px;">
            {{with .Params.roadmap_card}}
            <div class="text-center mb-4">
              {{ ($.Resources.GetMatch "graph.svg").Content | safeHTML }}
              <h2>{{.title}}</h2>
              <h4>{{.subtitle}}</h4>
              <h4>{{.intro_title}}</h4>
              {{.intro_body|markdownify}}
            </div>
            {{end}}

            <!-- Challenges -->
            <div class="mb-5">
              <div class="text-white py-2 text-center mb-4" style="background: #272FCC; border-radius: 4px;">
                {{ .Params.challenges_title }}
              </div>
              {{range $i, $el := .Params.challenges_items}}
              <div style="display: flex; align-items: center; margin-bottom: 20px; padding-left: 20px; padding-right: 20px;">
                <div style="width: 30px; height: 30px; border: 1px solid #22AA21;border-radius: 4px; color: #22AA21; display: flex; align-items: center; justify-content: center; margin-right: 10px;">
                  <i class="far fa-check"></i>
                </div>
                <p class="mb-0">{{.}}</p>
              </div>
              {{end}}
            </div>

            <!-- Android bugs -->
            <div class="mb-5">
              <div class="text-white py-2 text-center mb-4" style="background: #4044C1; border-radius: 4px;">
                {{ .Params.android_bugs_title }}
              </div>
              {{range $i, $el := .Params.android_bugs_items}}
              <div style="display: flex; align-items: center; margin-bottom: 20px; padding-left: 20px; padding-right: 20px;">
                <div style="width: 30px; height: 30px; border: 1px solid #22AA21;border-radius: 4px; color: #22AA21; display: flex; align-items: center; justify-content: center; margin-right: 10px;">
                  <i class="far fa-check"></i>
                </div>
                <p class="mb-0">{{.}}</p>
              </div>
              {{end}}
            </div>

            <!-- Documentation -->
            <div class="mb-5">
              <div class="text-white py-2 text-center mb-4" style="background: #303354; border-radius: 4px;">
                {{ .Params.documentation_title }}
              </div>
              {{range $i, $el := .Params.documentation_items}}
              <div style="display: flex; align-items: center; margin-bottom: 20px; padding-left: 20px; padding-right: 20px;">
                <div style="width: 30px; height: 30px; border: 1px solid #22AA21;border-radius: 4px; color: #22AA21; display: flex; align-items: center; justify-content: center; margin-right: 10px;">
                  <i class="far fa-check"></i>
                </div>
                <p class="mb-0">{{.}}</p>
              </div>
              {{end}}
            </div>

            <div class="text-center">
              <a class="btn btn-bty btn-yellow" href="https://github.com/sponsors/berty" target="_blank">
                <i class="fab fa-github"></i> {{.Params.roadmap_card.button_text}}
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

  </div>
</div>

{{ partial "footer" . }}
